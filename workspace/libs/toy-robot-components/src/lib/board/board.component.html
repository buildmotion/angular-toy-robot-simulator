<p>Welcome to the Toy Robot Simulator game.</p>

<p-table [value]="grid" [style]="{ 'width': '100%', 'text-align': 'center' }" [responsive]="true" [paginator]="false">
    <ng-template pTemplate="body" let-row let-rowIndex="rowIndex">
        <tr>
            <!-- Adjusting coordinates in the loop according to the table's coordinate system -->
            <td *ngFor="let cell of row; let colIndex = index;" (click)="placeRobot(colIndex, 4 - rowIndex)" 
                [ngClass]="{
                'robot-cell': isRobotHere(colIndex, 4 - rowIndex),
                'valid-cell': isValidCell(colIndex, 4 - rowIndex)
                }"
                [attr.aria-label]="'Cell at ' + colIndex + ',' + (4 - rowIndex)">
                <span>{{colIndex}},{{4 - rowIndex}}</span>
                <i *ngIf="isRobotHere(colIndex, 4 - rowIndex)" class="pi pi-robot"
                    [ngStyle]="{ transform: getRobotDirectionStyle() }" aria-hidden="true"></i>
            </td>
        </tr>
    </ng-template>
</p-table>

<div class="command-buttons">
    <p-button label="Left" icon="pi pi-arrow-left" (click)="turnLeft()"></p-button>
    <p-button label="Move" icon="pi pi-arrow-up" (click)="move()"></p-button>
    <p-button label="Right" icon="pi pi-arrow-right" (click)="turnRight()"></p-button>
    <p-button label="Report" icon="pi pi-info-circle" (click)="report()"></p-button>
</div>

<p-messages/>
