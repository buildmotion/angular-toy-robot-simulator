<p>Welcome to the Toy Robot Simulator game.</p>

<!-- 'valid-cell': isValidCell(colIndex, 4 - rowIndex) -->
<!-- p-table component displaying the grid with specific styles and configuration settings -->
<p-table [value]="grid" [style]="{ 'width': '100%', 'text-align': 'center' }" [responsive]="true" [paginator]="false">
    
    <!-- ng-template defines the body template for the table where the row and rowIndex are defined -->
    <ng-template pTemplate="body" let-row let-rowIndex="rowIndex">
        <tr>
            <!-- Adjusting coordinates in the loop according to the table's coordinate system -->
            <td *ngFor="let cell of row; let colIndex = index;" (click)="placeRobot(colIndex, 4 - rowIndex)" 
                [ngClass]="{
                'robot-cell': isRobotHere(colIndex, 4 - rowIndex),
                }"
                [attr.aria-label]="'Cell at ' + colIndex + ',' + (4 - rowIndex)">
                <!-- <span>{{colIndex}},{{4 - rowIndex}}</span> -->
                <robot-square [isRobotHere]="isRobotHere(colIndex, 4 - rowIndex)">&nbsp;&nbsp;</robot-square>
            </td>
        </tr>
    </ng-template>
</p-table>

<div class="command-buttons">
    <p-button [disabled]="!(isValid$ | async)" label="Left" icon="pi pi-arrow-left" (click)="turnLeft()"></p-button>
    <p-button [disabled]="!(isValid$ | async)" label="Move" icon="pi pi-arrow-up" (click)="move()"></p-button>
    <p-button [disabled]="!(isValid$ | async)" label="Right" icon="pi pi-arrow-right" (click)="turnRight()"></p-button>
    <p-button [disabled]="!(isValid$ | async)" label="Report" icon="pi pi-info-circle" (click)="report()"></p-button>
</div>

<!-- Uses the PrimeNg Messages service to coordinate the display of messages across the application. -->
<p-messages/>
